if (self.CavalryLogger) { CavalryLogger.start_js(["M7ioebn"]); }

__d("MDSText.react",["cr:1087"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1087")}),98);
__d("MDSTextTypography",["cx","UserAgent"],(function(a,b,c,d,e,f,g,h){"use strict";var i={apple:{MozOsxFontSmoothing:"oi732d6d",WebkitFontSmoothing:"ik7dh3pa",fontFamily:"ht8s03o8"},"default":{fontFamily:"b0tq1wua"},segoe:{fontFamily:"lr9zc1uh"}},j={body1:{fontFamily:i["default"],fontSize:20,fontWeight:"normal",lineHeight:24,offsets:[4,5]},body2:{fontFamily:i["default"],fontSize:17,fontWeight:"normal",lineHeight:20,offsets:[3,5]},body3:{fontFamily:i["default"],fontSize:15,fontWeight:"normal",lineHeight:20,offsets:[4,5]},body4:{fontFamily:i["default"],fontSize:13,fontWeight:"normal",lineHeight:16,offsets:[3,4]},bodyLink1:{fontFamily:i["default"],fontSize:20,fontWeight:"semibold",lineHeight:24,offsets:[4,5]},bodyLink2:{fontFamily:i["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,5]},bodyLink3:{fontFamily:i["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},bodyLink4:{fontFamily:i["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},button1:{fontFamily:i["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,5]},button2:{fontFamily:i["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},entityHeaderHeadline1:{fontFamily:i["default"],fontSize:32,fontWeight:"bold",lineHeight:38,offsets:[7,8]},entityHeaderHeadline2:{fontFamily:i["default"],fontSize:28,fontWeight:"bold",lineHeight:32,offsets:[5,7]},entityHeaderMeta1:{defaultColor:"secondary",fontFamily:i["default"],fontSize:15,fontWeight:"bold",lineHeight:20,offsets:[4,5]},entityHeaderMeta2:{defaultColor:"secondary",fontFamily:i["default"],fontSize:15,fontWeight:"bold",lineHeight:20,offsets:[4,5]},entityHeaderMeta3:{defaultColor:"primary",fontFamily:i["default"],fontSize:13,fontWeight:"bold",lineHeight:18,offsets:[4,3]},headline3:{fontFamily:i["default"],fontSize:17,fontWeight:"medium",lineHeight:20,offsets:[3,5]},headline4:{fontFamily:i["default"],fontSize:15,fontWeight:"medium",lineHeight:20,offsets:[4,5]},headlineEmphasized1:{fontFamily:i["default"],fontSize:24,fontWeight:"bold",lineHeight:28,offsets:[5,6]},headlineEmphasized2:{fontFamily:i["default"],fontSize:20,fontWeight:"bold",lineHeight:24,offsets:[4,5]},headlineEmphasized3:{fontFamily:i["default"],fontSize:17,fontWeight:"semibold",lineHeight:20,offsets:[3,4]},headlineEmphasized4:{fontFamily:i["default"],fontSize:15,fontWeight:"semibold",lineHeight:20,offsets:[4,5]},headlineEmphasized5:{fontFamily:i["default"],fontSize:15,fontWeight:"medium",lineHeight:18,offsets:[3,4]},meta1:{defaultColor:"secondary",fontFamily:i["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},meta2:{defaultColor:"secondary",fontFamily:i["default"],fontSize:13,fontWeight:"semibold",lineHeight:16,offsets:[3,4]},meta3:{defaultColor:"secondary",fontFamily:i["default"],fontSize:13,fontWeight:"normal",lineHeight:16,offsets:[3,4]},meta4:{defaultColor:"secondary",fontFamily:i["default"],fontSize:12,fontWeight:"normal",lineHeight:16,offsets:[3,4]}},k=[["body1",[5,5]],["body2",[4,4]],["body3",[4,4]],["body4",[4,3]],["bodyLink1",[5,5]],["bodyLink2",[4,4]],["bodyLink3",[4,4]],["bodyLink4",[4,3]],["button1",[4,4]],["button2",[4,4]],["entityHeaderHeadline1",[8,7]],["entityHeaderHeadline2",[6,6]],["entityHeaderMeta1",[4,4]],["entityHeaderMeta2",[4,4]],["entityHeaderMeta3",[4,3]],["headline3",[4,4]],["headline4",[4,4]],["headlineEmphasized1",[6,5]],["headlineEmphasized2",[5,5]],["headlineEmphasized3",[4,4]],["headlineEmphasized4",[4,4]],["headlineEmphasized5",[4,3]],["meta1",[4,3]],["meta2",[4,3]],["meta3",[4,3]],["meta4",[3,3]]],l=[["body1",[5,5]],["body2",[4,4]],["body3",[5,4]],["body4",[4,3]],["bodyLink1",[6,4]],["bodyLink2",[4,3]],["bodyLink3",[5,4]],["bodyLink4",[4,3]],["button1",[4,3]],["button2",[5,4]],["entityHeaderHeadline1",[8,7]],["entityHeaderHeadline2",[7,5]],["entityHeaderMeta1",[5,4]],["entityHeaderMeta2",[5,4]],["entityHeaderMeta3",[4,3]],["headline3",[5,3]],["headline4",[5,4]],["headlineEmphasized1",[6,5]],["headlineEmphasized2",[6,4]],["headlineEmphasized3",[4,3]],["headlineEmphasized4",[5,4]],["headlineEmphasized5",[4,3]],["meta1",[4,3]],["meta2",[4,3]],["meta3",[4,3]],["meta4",[4,3]]],m=[["body1",[6,4,1]],["body2",[5,3,1]],["body3",[5,4]],["body4",[4,3,1]],["bodyLink1",[6,4,1]],["bodyLink2",[5,3,1]],["bodyLink3",[5,4]],["bodyLink4",[4,3,1]],["button1",[5,3,1]],["button2",[5,4]],["entityHeaderHeadline1",[10,6,2]],["entityHeaderHeadline2",[8,5,3]],["entityHeaderMeta1",[5,4,1]],["entityHeaderMeta2",[5,4,1]],["entityHeaderMeta3",[4,3]],["headline3",[5,3,1]],["headline4",[5,4]],["headlineEmphasized1",[7,4,2]],["headlineEmphasized2",[6,4,2]],["headlineEmphasized3",[5,3,1]],["headlineEmphasized4",[5,4]],["headlineEmphasized5",[5,3,1]],["meta1",[4,3,1]],["meta2",[4,3,1]],["meta3",[4,3,1]],["meta4",[4,3]]];function n(){if(c("UserAgent").isPlatform("Windows >= 6"))return{fontFamily:i.segoe,offsets:m};return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?{fontFamily:i.apple,offsets:c("UserAgent").isEngine("Gecko")?l:k}:null}function a(){var a=n();if(a!=null){var b=a.fontFamily;a=a.offsets;a=new Map(a);var c=babelHelpers["extends"]({},j);a.forEach(function(a,d){c[d]=babelHelpers["extends"]({},c[d],{fontFamily:b,offsets:a})});return c}return j}b=a();g["default"]=b}),98);
__d("MDSTextV1.react",["BaseHeading.react","CometDensityModeContext","CometLineClamp.react","CometTextContext","CometTextLangContext","MDSTextTypography","cr:476","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useMemo;e=(d=b("cr:476"))!=null?d:{useTranslationFixKeyForTextParent:function(){return""}};var k=e.useTranslationFixKeyForTextParent,l=c("gkx")("1435443"),m={base:{maxWidth:"d2edcug0",minWidth:"hpfvmrgz",wordBreak:"qv66sw1b",wordWrap:"c1et5uql"},block:{display:"a8c37x1j","::before":{content:"keod5gw0",display:"nxhoafnm",height:"aigsh9s9"},"::after":{content:"fe6kdd0r",display:"mau55g9w",height:"c8b282yb"}},fixFontForChrome81:{fontFamily:"sx4j0amd"},heading:{maxWidth:"d2edcug0",minWidth:"hpfvmrgz"}},n={center:{textAlign:"oqcyycmt"},end:{textAlign:"ftzlm3b6"},start:{textAlign:"hzawbc8m"}},o={blueLink:{color:"py34i1dx"},disabled:{color:"erlsw9ld"},disabledButton:{color:"o7e4w99y"},highlight:{color:"q66pz984"},negative:{color:"jdix4yx3"},positive:{color:"g5o1ygfq"},primary:{color:"oo9gr5id"},primaryButton:{color:"bwm1u5wc"},primaryDeemphasizedButton:{color:"knomaqxo"},primaryOnMedia:{color:"qrtewk5h"},secondary:{color:"m9osqain"},secondaryButton:{color:"a57itxjd"},secondaryOnMedia:{color:"av1wybal"},tertiary:{color:"pipptul6"},white:{color:"ljqsnud1"}},p={12:{fontSize:"sq6gx45u",lineHeight:"a3bd9o3v"},13:{fontSize:"e9vueds3",lineHeight:"j5wam9gi"},15:{fontSize:"jq4qci2q",lineHeight:"a3bd9o3v"},17:{fontSize:"a5q79mjw",lineHeight:"g1cxx5fr"},20:{fontSize:"o3w64lxj",lineHeight:"b2s5l15y"},24:{fontSize:"o0t2es00",lineHeight:"f530mmz5"},28:{fontSize:"m6dqt4wy",lineHeight:"h7mekvxk"},32:{fontSize:"mhxlubs3",lineHeight:"p5u9llcw"}},q={12:{fontSize:"sq6gx45u",lineHeight:"a3bd9o3v"},13:{fontSize:"sq6gx45u",lineHeight:"j5wam9gi"},15:{fontSize:"gfeo3gy3",lineHeight:"a3bd9o3v"},17:{fontSize:"jagab5yi",lineHeight:"g1cxx5fr"},20:{fontSize:"o3w64lxj",lineHeight:"b2s5l15y"},24:{fontSize:"o0t2es00",lineHeight:"f530mmz5"},28:{fontSize:"m6dqt4wy",lineHeight:"h7mekvxk"},32:{fontSize:"mhxlubs3",lineHeight:"p5u9llcw"}},r={bold:{fontWeight:"hnhda86s"},medium:{fontWeight:"ekzkrbhg"},normal:{fontWeight:"knj5qynh"},semibold:{fontWeight:"lrazzd5p"}},s={1:{"::before":{marginTop:"l2xehx30"}},2:{"::before":{marginTop:"j0e77wai"}},3:{"::before":{marginTop:"tia6h79c"}},4:{"::before":{marginTop:"d9wwppkn"}},5:{"::before":{marginTop:"d3f4x2em"}},6:{"::before":{marginTop:"ns63r2gh"}},7:{"::before":{marginTop:"qg6bub1s"}},8:{"::before":{marginTop:"embtmqzv"}},9:{"::before":{marginTop:"misohx42"}},10:{"::before":{marginTop:"l1jc4y16"}}},t={1:{"::after":{marginBottom:"lpavh2a4"}},2:{"::after":{marginBottom:"l15sfdvx"}},3:{"::after":{marginBottom:"mdeji52x"}},4:{"::after":{marginBottom:"iv3no6db"}},5:{"::after":{marginBottom:"hrzyx87i"}},6:{"::after":{marginBottom:"rwim8176"}},7:{"::after":{marginBottom:"h6olsfn3"}},8:{"::after":{marginBottom:"teo7jy3c"}},9:{"::after":{marginBottom:"lpmm8iu7"}},10:{"::after":{marginBottom:"c9ps7pxp"}}},u={1:{paddingBottom:"ojkyduve"},2:{paddingBottom:"r8blr3vg"},3:{paddingBottom:"pby63qed"}},v={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function w(a,b){return b?(b=v[a])!=null?b:a:a}function x(a,b){return b==="headlineEmphasized5"||b==="entityHeaderMeta3"?null:{color:a,type:b}}function a(a,b){var d=a.align;d=d===void 0?"auto":d;var e=a.children,f=a.color,g=a.dir;g=g===void 0?"auto":g;var v=a.id,y=a.isPrimaryHeading;y=y===void 0?!1:y;var z=a.isSemanticHeading;z=z===void 0?!1:z;var A=a.numberOfLines,B=a.testid,C=a.type;B=i(c("CometTextContext"));a=i(c("CometDensityModeContext"));a=a[0];var D=i(c("CometTextLangContext")),E=c("MDSTextTypography")[C],F=E.defaultColor;F=F===void 0?"primary":F;var G=E.fontFamily,H=E.fontSize,I=E.fontWeight;I=I===void 0?"normal":I;E=E.offsets;E=E===void 0?[0,0]:E;var J=E.length===3?E[2]:0,K=w((f=f)!=null?f:F,C==="button1"||C==="button2");f=j(function(){return x(K,C)},[K,C]);F=B!==null;B=k();f=h.jsx(c("CometTextContext").Provider,{value:f,children:h.jsx("span",{className:c("stylex")(m.base,G,l&&H>=20&&I!=="normal"&&m.fixFontForChrome81,!F&&m.block,!F&&s[E[0]],!F&&t[A!=null?E[1]+J:E[1]],a?q[H]:p[H],r[I],o[K],d!=="auto"&&n[d]),"data-testid":void 0,dir:F?void 0:g,id:v,lang:D,ref:b,children:A!=null?h.jsx(c("CometLineClamp.react"),{lines:A,xstyle:J!==0&&u[J],children:e}):e},B)});return z?h.jsx(c("BaseHeading.react"),{isPrimaryHeading:y,xstyle:m.heading,children:f}):f}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);b.displayName="MDSText";d=b;g["default"]=d}),98);
__d("UseBlockedUserInterstitial.bs",["JSResource","LS.bs","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticPseudoUnblock","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSTransaction.bs","LsSystemFolder.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","WebStorage","bs_belt_Option","bs_caml","bs_curry","gkx","promiseDone","react","recoverableViolation","useCometLazyDialog"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=b("useCometLazyDialog")(b("JSResource")("LSBlockedUserInterstitialDialog.react").__setRef("UseBlockedUserInterstitial.bs")),d=c[0];c=b("useCometLazyDialog")(b("JSResource")("RestrictedUserInterstitialDialog.react").__setRef("UseBlockedUserInterstitial.bs"));var e=c[0];c=b("useCometLazyDialog")(b("JSResource")("MWChatPseudoBlockWarningCardDialog.react").__setRef("UseBlockedUserInterstitial.bs"));var f=c[0],g=b("ReStore.bs").useHook(void 0),j=b("MWLSActor.bs").useActor(void 0),k=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(g,"threads").asc,{hd:a,tl:0})},[g,JSON.stringify(a)])),l=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var c;return(c=b("ReQL.bs")).map(c.filter(c.mergeJoin(c.getKeyRange(b("ReQLTable").table(g,"participants").asc,{hd:a,tl:0}),b("ReQLTable").table(g,"contacts").asc),function(a){return b("bs_caml").i64_neq(a[1].a,j)}),function(a){return a[1]})},[g,JSON.stringify(a),j])),m=i.useMemo(function(){return l.filter(function(a){return b("bs_caml").i64_neq(a.n,b("LSContactBlockedByViewerStatus.bs").unblocked)})},[l]),n=i.useMemo(function(){if(l.length>0)return l.filter(function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)});else return[]},[l]),o=k!==void 0?b("bs_caml").i64_neq(k.A,b("LsSystemFolder.bs").archived)&&b("LSMessagingThreadTypeUtil.bs").isGroup(k.c)&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").leaveThread,k):!1,p=k!==void 0?b("LSMessagingThreadTypeUtil.bs").isOneToOne(k.c):!1,q=k!==void 0?b("LSMessagingThreadTypeUtil.bs").isGroup(k.c):!1,r=l.length>0?l[0]:void 0,s=b("bs_belt_Option").mapWithDefault(r,!1,function(a){return b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").pseudoBlock,a),!1)});return i.useCallback(function(c){return function(i){var j=(h||(h=b("WebStorage"))).getLocalStorage(),l="__BlockOrRestrictUserInterstitial."+a+"__",t=j.getItem(l);t=t==null?!1:t==="true";var u=b("gkx")("2054625")&&p&&s,v=!t&&b("gkx")("3846")&&n.length>0&&q&&o;t=!t&&m.length>0&&q&&o;if(u){u=function(a){if(r!==void 0){b("promiseDone")(b("LSTransaction.bs").run(g,function(c){return b("LSOptimisticPseudoUnblock")(r.a,a,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),function(a){return b("bs_curry")._1(c,void 0)},function(a){return b("bs_curry")._1(c,void 0)});return}};return f({contact:r,thread:k,onOptIn:u,onClose:function(a){},entryPoint:i},function(a){})}if(t){u=function(a){a=(h||(h=b("WebStorage"))).setItemGuarded(j,l,"true");a==null||b("recoverableViolation")("Unable to set item at path for BlockedUserInterstitial","messenger_web_product");return b("bs_curry")._1(c,void 0)};return d({thread:k,blockees:m,onOptIn:u},function(a){})}if(!v)return b("bs_curry")._1(c,void 0);i=function(a){a=(h||(h=b("WebStorage"))).setItemGuarded(j,l,"true");a==null||b("recoverableViolation")("Unable to set item at path for RestrictedUserInterstitial","messenger_web_product");return b("bs_curry")._1(c,void 0)};return e({thread:k,restrictedUsers:n,onOptIn:i},function(a){})}},[JSON.stringify(a),m.length,n.length,s])}f.useHook=a}),null);
__d("MWChatConfirmTabCloseDialog.bs",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={body:g._(/*FBT_CALL*/"\uc774 \ub300\ud654 \ucc3d\uc744 \ub2eb\uc73c\uc2dc\uaca0\uc5b4\uc694?"/*FBT_CALL*/),confirm:g._(/*FBT_CALL*/"\ud655\uc778"/*FBT_CALL*/),title:g._(/*FBT_CALL*/"\uc544\uc9c1 \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0b4\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/)};f.content=a}),null);
__d("MWChatFacepile.bs",["bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{display:"j83agx80",position:"l9j0dhe7"},image:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",position:"pmk7jnqg"},leftImage:{start:"j9ispegn",bottom:"i09qtzwb"},imageBorder:{borderTop:"onbmnuye",borderEnd:"ss08itiq",borderBottom:"gm9yxfny",borderStart:"e3a5340w"},rightImage:{end:"n7fi1qx3",top:"kr520xx4"},dropShadow:{boxShadow:"akv41dx8",":hover":{boxShadow:"eb3gnj61"}}};function a(a){var c=a.borderBetweenImages,d=a.children,e=a.firstParticipantURI,f=a.secondParticipantURI,g=a.shadow;a=a.size;c=c!==void 0?c:!0;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;g=g!==void 0?g:!1;a=a!==void 0?a:30;var k=a/1.5|0;k={height:String(k)+"px",width:String(k)+"px"};return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),style:{height:String(a)+"px",width:String(a)+"px"},children:[i.jsx("img",{className:h(g?j.dropShadow:!1,j.image,j.rightImage),style:k,src:f,alt:""}),i.jsx("img",{className:h(g?j.dropShadow:!1,j.image,c?j.imageBorder:!1,j.leftImage),style:k,src:e,alt:""}),d]})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatFacepile.re",["MWChatFacepile.bs"],(function(a,b,c,d,e,f){a=b("MWChatFacepile.bs").make;f.make=a}),null);
__d("MWChatProfile.bs",["BaseGlimmer.react","bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{position:"l9j0dhe7"},img:{width:"k4urcfbm",height:"datstx6m",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",verticalAlign:"pzggbiyp",objectFit:"bixrwtb6"},activeNow:{display:"mkhogb32",position:"pmk7jnqg",backgroundColor:"jllm4f4h",width:"c9rrlmt1",height:"t6na6p9t",borderTop:"iruzoqzv",borderEnd:"n8v90iwk",borderBottom:"qx7ju95k",borderStart:"m8of71z0",bottom:"i09qtzwb",end:"n7fi1qx3",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},active:{display:"a8c37x1j"}};function a(a){var c=a.size,d=a.src,e=a.isActiveNow,f=a.alt;a=a.children;e=e!==void 0?e:!1;f=f!==void 0?f:"";var g,k=0;d!==void 0&&d!==""?g=i.jsx("img",{className:(h||(h=b("stylex")))(j.img),src:d,alt:f}):k=1;k===1&&(g=i.jsx(b("BaseGlimmer.react"),{className:(h||(h=b("stylex")))(j.img),index:1}));return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),style:{height:String(c)+"px",width:String(c)+"px"},children:[g,b("bs_belt_Option").getWithDefault(a,null),i.jsx("div",{className:h(j.activeNow,e?j.active:!1)})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatTextTransform.bs",["CometEmojiTransform","CometEmoticonTransform","bs_curry","cr:9156","gkx"],(function(a,b,c,d,e,f){"use strict";c=b("CometEmoticonTransform")();d=b("CometEmojiTransform")();e=b("gkx")("1839834")?[c,d]:[d];if(!(b("cr:9156")==null)){var g=b("bs_curry")._1(b("cr:9156").unvaultTransform,void 0);e.push(g)}function a(a){if(b("gkx")("1839834"))return[b("CometEmoticonTransform")(a),b("CometEmojiTransform")(a)];else return[b("CometEmojiTransform")(a)]}f.emoticonTransform=c;f.emojiTransform=d;f.epdTextTransforms=e;f.$MAWUnvaultTransform$requireCond=b("cr:9156");f.epdTextTransformsWithOptions=a}),null);
__d("MWLSThreadImageUrls.bs",["bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){if(d!==void 0)return[d];d=a.length;if(d===1)return a.map(function(a){return a.profile_picture_url});d=a.filter(function(a){return b("bs_caml").i64_neq(a.contact_id,c)}).slice();d.sort(function(a,b){return b.rank-a.rank});return d.map(function(a){return a.profile_picture_url})}f.make=a}),null);
__d("MWChatContactPresenceHook.bs",["AvailableListConstants","FBID.bs","PresenceStatusContext","bs_caml_option","bs_curry","bs_int64","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MessengerMQTTPresence.bs").__setRef("MWChatContactPresenceHook.bs");function j(a,c){var d=b("bs_curry")._1(a.getStatus,c),e=d==null?void 0:b("bs_caml_option").some(d);a=b("bs_curry")._1(a.getChatVisibility,void 0);if(!(d==null)||!a)return e;else{i.onReady(function(a){return b("bs_curry")._1(a.sendAdditionalBuddyRequest,c)});return}}function k(a){var c=h.useContext(b("PresenceStatusContext")),d=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a));a=h.useState(function(){return j(c,d)});var e=a[1];h.useEffect(function(){return b("bs_curry")._1(c.addListener,function(a){return b("bs_curry")._1(e,function(a){return j(c,d)})})},[c,d,e]);return a[0]}function a(a){a=k(a);if(a===void 0)return!1;a=a.status;if(a==null)return!1;else return a===b("AvailableListConstants").ACTIVE}function c(a){a=k(a);if(a===void 0)return;a=a.last_active_time;if(!(a==null)&&a!==0)return a*1e3}function d(a){var c=h.useContext(b("PresenceStatusContext")),d=h.useMemo(function(){return a.map(function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))})},[a]),e=h.useState(function(){return d.some(function(a){a=j(c,a);if(a===void 0)return!1;a=a.status;if(a==null)return!1;else return a===b("AvailableListConstants").ACTIVE})}),f=e[1];h.useEffect(function(){var a=d.map(function(a){return b("bs_curry")._1(c.addListener,function(d){return b("bs_curry")._1(f,function(d){d=j(c,a);if(d===void 0)return!1;d=d.status;if(d==null)return!1;else return d===b("AvailableListConstants").ACTIVE})})});return function(c){a.forEach(function(a){return b("bs_curry")._1(a,void 0)})}},[c,d,f]);return e[0]}f.$MessengerMQTTPresence$Deferred=i;f.useHook=k;f.useIsActive=a;f.useLastActiveTimestampMs=c;f.useHasActiveContact=d}),null);
__d("MWLSPresenceIsThreadActive.bs",["MWChatContactPresenceHook.bs","MWLSActor.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("MWLSActor.bs").useActor(void 0);a=h.useMemo(function(){return b("ReQL.bs").take(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:d,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),1)},[c,d,JSON.stringify(e)]);a=b("ReQLSubscription.bs").useArray(a);return b("MWChatContactPresenceHook.bs").useHasActiveContact(a.map(function(a){return a.b}))}f.useHook=a}),null);
__d("LSIterationHelpers",["FBLogger","LSDbKeyComparer","LSDict","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=[];while(a!==0)b.push(a.hd),a=a.tl;return b}function i(a){return a.reduceRight(function(a,b){return{hd:b,tl:a}},0)}function j(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},j=g.end;g=g.start;var k=h(a.value[0]),l=k.slice(0,f);if(g){var m=d("LSDbKeyComparer").compareValue(k[f],g[0]);if(m*(c==="asc"?1:-1)<g[1]){if(f===k.length-1&&m===0)a=await e.next();else{m=[].concat(l,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[d("LSDbKeyComparer").MAX_KEY]:[]);a=await e.next(i(m))}if(a.done)return{v:{done:!0}};k=h(a.value[0]);if(!l.every(function(b,a){return d("LSDbKeyComparer").compareValue(b,k[a])===0}))return"continue|outer"}}if(j&&d("LSDbKeyComparer").compareValue(j[0],k[f])*(c==="asc"?1:-1)<j[1]){a=await e.next(i([].concat(k.slice(0,f),c==="asc"?[d("LSDbKeyComparer").MAX_KEY]:[])));return"continue|outer"}};for(var g=0;g<b.length;g++){var j=await f(g);switch(j){case"continue|outer":continue outer;default:if(typeof j==="object")return j.v}}break}return a},a}return f()}function k(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=k.bind(null,a,b),c.next=async function(){var c=await a.next();while(!c.done&&!await b(c.value.item))c=await a.next();return c},c}function l(a,b,d){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=l.bind(null,a,b,d),e.next=async function(){while(f<b){var e=await a.next();e=e.done;if(e){c("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",b);return{done:!0}}f++}if(f<d){f++;return a.next()}return{done:!0}},e}async function a(a,b){var c=await a.next();while(!c.done)await b(c.value),c=await a.next()}async function m(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b,c){c===void 0&&(c=[]);var e={ASC:1,DESC:-1},f=function(a,c){a=a.item;c=c.item;for(var f=0;f<b.length;f++){var g=b[f];g=g[0];var h=a[g];g=c[g];var i;h===void 0&&g===void 0?i=0:h===void 0&&g!==void 0?i=-1:h!==void 0&&g===void 0?i=1:i=d("LSDbKeyComparer").compareValue(h,g);if(i===0)continue;return i*e[b[f][1]]}return 0},g=function(){var b=babelHelpers.wrapAsyncGenerator(function*(){var b=(yield babelHelpers.awaitAsyncGenerator(a.next())),e,g=[];while(!b.done){var h=0;for(var i=c.length-1;i>=0;i--)h={hd:b.value.item[c[i]],tl:h};if(e!==void 0&&d("LSDbKeyComparer").compareKey(e,h)!==0){for(var i=g.sort(f),j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;yield l}g=[]}b.done||g.push(b.value);e=h;b=(yield babelHelpers.awaitAsyncGenerator(a.next()))}if(g.length)for(var l=g.sort(f),k=Array.isArray(l),j=0,l=k?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(j>=l.length)break;i=l[j++]}else{j=l.next();if(j.done)break;i=j.value}h=i;yield h}});return function(){return b.apply(this,arguments)}}();return g()}async function e(a){var b=0,d=await a.next();while(!d.done)b++,d=await a.next();return c("bs_caml_int64").of_int32(b)}function f(a,b){return{forEach:async function(d){var e=await m(a);e=e.reduce(function(a,c){c=c.item[b];var d=(a.get(c)||0)+1;return a.set(c,d)},new(c("LSDict"))());for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;var j=i[0];i=i[1];await d((h={},h[b]=j,h.group_count=c("bs_caml_int64").of_int32(i),h))}}}}function n(a,b,c){return{delete:function(){return c.delete(a)},item:b,update:function(d){return c.upsert(a,babelHelpers.extends({},b,d))}}}function o(a,b){return p.apply(this,arguments)}function p(){p=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(a.next()));c=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=babelHelpers.wrapAsyncGenerator(function*(a,b,c){var e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!e.done&&!f.done){var g=d("LSDbKeyComparer").compareKey(e.value[0],f.value[0]);g===0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()))):g*(c==="asc"?1:-1)<0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()))):(yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next())))}while(!e.done)yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!f.done)yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return r.apply(this,arguments)}function s(a,b,c,d,e,f){var g=new Set(),h=a.length>1,k=a.length===1&&a[0][1]===void 0,l=a.map(function(a){var g=a[0],h=a[1];return g.map(function(a){d.key_lookup===!0&&a.length!==0;d.table_scan===!0&&a.length===0;a=a.map(function(a){return f(a,b)});var g=a.length===(h===void 0?c.primaryKeyIds:c.indexes[h].keyIds).length&&a.every(function(a){var b=a.start;a=a.end;return b&&a&&b[0]===a[0]&&b[1]===0&&a[1]===0});if(g){g=function b(){var c,d=!1;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=b,c.next=async function(){if(d)return{done:!0};d=!0;var b=i(a.map(function(a){a=a.start;return a[0]})),c=await (h===void 0?e:e.index(h)).get(b);return!c?{done:!0}:{value:[b,c],done:!1}},c};return g()}return j(h===void 0?e:e.index(h),a,b)})}).flat().reduce(function(c,d){return a.length>1?o(c,d):q(c,d,b)});function m(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=m,a.next=async function(){var a,b,d,f=await l.next();while(!f.done){var i=f.value;b=i[0];d=i[1];a=k?b:c.primaryKeyIds.reduceRight(function(a,b){return{hd:d[b],tl:a}},0);if(h){i=JSON.stringify(a);if(g.has(i)){f=await l.next();continue}g.add(i)}break}return f.done||a===void 0||d===void 0?{done:!0}:{done:!1,value:n(a,d,e)}},a}return m()}g.filter=k;g.slice=l;g.forEach=a;g.toArray=m;g.sortBy=b;g.count=e;g.groupBy=f;g.fetch=s}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("base64-js-1.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){g.byteLength=h;g.toByteArray=d;g.fromByteArray=e;var a=[],b=[],c=typeof Uint8Array!=="undefined"?Uint8Array:Array;h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var d=0,e=h.length;d<e;++d)a[d]=h[d],b[h.charCodeAt(d)]=d;b["-".charCodeAt(0)]=62;b["_".charCodeAt(0)]=63;function f(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("=");a===-1&&(a=b);b=a===b?0:4-a%4;return[a,b]}function h(a){a=f(a);var b=a[0];a=a[1];return(b+a)*3/4-a}function i(a,b,c){return(b+c)*3/4-c}function d(a){var d,e=f(a),g=e[0];e=e[1];var h=new c(i(a,g,e)),j=0;g=e>0?g-4:g;for(var k=0;k<g;k+=4)d=b[a.charCodeAt(k)]<<18|b[a.charCodeAt(k+1)]<<12|b[a.charCodeAt(k+2)]<<6|b[a.charCodeAt(k+3)],h[j++]=d>>16&255,h[j++]=d>>8&255,h[j++]=d&255;e===2&&(d=b[a.charCodeAt(k)]<<2|b[a.charCodeAt(k+1)]>>4,h[j++]=d&255);e===1&&(d=b[a.charCodeAt(k)]<<10|b[a.charCodeAt(k+1)]<<4|b[a.charCodeAt(k+2)]>>2,h[j++]=d>>8&255,h[j++]=d&255);return h}function j(b){return a[b>>18&63]+a[b>>12&63]+a[b>>6&63]+a[b&63]}function k(a,b,c){var d,e=[];for(var b=b;b<c;b+=3)d=(a[b]<<16&16711680)+(a[b+1]<<8&65280)+(a[b+2]&255),e.push(j(d));return e.join("")}function e(b){var c=b.length,d=c%3,e=[],f=16383;for(var g=0,h=c-d;g<h;g+=f)e.push(k(b,g,g+f>h?h:g+f));d===1?(g=b[c-1],e.push(a[g>>2]+a[g<<4&63]+"==")):d===2&&(g=(b[c-2]<<8)+b[c-1],e.push(a[g>>10]+a[g>>4&63]+a[g<<2&63]+"="));return e.join("")}}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("base64-js",["base64-js-1.3.0"],(function(a,b,c,d,e,f){e.exports=b("base64-js-1.3.0")()}),null);
__d("LS",["FBLogger","LSDbKeyComparer","LSDict","LSIterationHelpers","LSJson","base64-js","bs_caml","bs_caml_format","bs_caml_int64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}b="LS_WEB";function l(a){return a.name.match(/secure_|inbox(?!_)/i)}var m=babelHelpers.extends({},c("bs_caml_int64"),{eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&c("bs_caml").i64_eq(a,b)},neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&c("bs_caml").i64_neq(a,b)},lt:c("bs_caml").i64_lt,gt:c("bs_caml").i64_gt,le:c("bs_caml").i64_le,ge:c("bs_caml").i64_ge,min:c("bs_caml").i64_min,max:c("bs_caml").i64_max,to_int32:function(a){return a==null?a:c("bs_caml_int64").to_int32(a)},to_string:function(a){return a==null?a:c("bs_caml_int64").to_string(a)},from_string:function(a){try{return c("bs_caml_format").caml_int64_of_string(a)}catch(b){throw c("unrecoverableViolation")('Unable to cast "'+a+'" to int64',"messenger_comet")}},random:function(){var b=a.crypto||a.msCrypto;b=Array.from(b.getRandomValues(new Uint32Array(2)));b[0]>>>=1;return b}});function n(a){return c("base64-js").toByteArray(a).buffer}var o={to_string:function(a){if(a==null)return void 0;var b=new TextDecoder();return b.decode(a)},of_string:function(a){if(a==null)return void 0;var b=new TextEncoder();return b.encode(a).buffer},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},neq:function(a,b){return!o.eq(a,b)},compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},le:function(a,b){return o.compareTo(a,b)<=0},lt:function(a,b){return o.compareTo(a,b)<0},ge:function(a,b){return o.compareTo(a,b)>=0},gt:function(a,b){return o.compareTo(a,b)>0}};function p(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return[a>>>1^-(b&1),((b>>>1)+(a&1)*2147483648^-(b&1))>>>0]}function q(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!==void 0)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!==void 0)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!==void 0)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!==void 0)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{start:d,end:e}}return{start:[a,0],end:[a,0]}}function r(a,b,c){var e=a.table(b.name);return{add:function(a){return e.add(a)},fetch:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return d("LSIterationHelpers").fetch(f.length===0?[[[[]],void 0]]:f,"asc",b,c,e,q)},fetchDesc:function(){for(var a=arguments.length,f=new Array(a),g=0;g<a;g++)f[g]=arguments[g];return d("LSIterationHelpers").fetch(f.length===0?[[[[]],void 0]]:f,"desc",b,c,e,q)},put:function(a){return e.put(a)},peekNextAutoIncrementId:function(){return e.peekNextAutoIncrementId()}}}function s(a,b,d,e){return{table:function(f){f=d.tableIds[f];if(b===0&&l(f))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return r(a,f,e)}}}function t(a,e,f,g,l,r,u,v,w,x){w===void 0&&(w={});x===void 0&&(x=void 0);var y=s(v,a,e,w),z=[];return{Map:c("LSDict"),constructor:{n:p},createArray:function(){return Object.defineProperty([],"tag",{value:"ls-array"})},db:y,i64:m,islc:d("LSIterationHelpers").slice,ct:d("LSIterationHelpers").count,blob:n,blobs:o,fe:d("LSIterationHelpers").forEach,ftr:d("LSIterationHelpers").filter,gb:d("LSIterationHelpers").groupBy,logger:function(){return x?{mustfix:x,warn:x,info:x,debug:x}:c("FBLogger")("messenger_web_product")},like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},loopAsync:function(a,b){function c(d){var e;return m.lt(d,a)?b(d).then(function(){return c(m.add(d,p(k())))}):((e=window.Promise)!=null?e:Promise).resolve()}return c(p(j()))},loopSync:function(a,b){for(var c=p(i());m.lt(c,a);c=m.add(c,p(h())))b(c)},merge:function(){function a(a,b){return d("LSDbKeyComparer").compareValue(a,b)>0?a:b}function b(a,b){return d("LSDbKeyComparer").compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,d){d=q(d,"asc");return{start:c.start&&d.start?a(d.start,c.start):d.start||c.start,end:c.end&&d.end?b(d.end,c.end):d.end||c.end}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:p,nop:async function(d){var e;if(typeof d==="number"){e=f[d.toString()];if(e==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+d,"messenger_web_product");e.load&&(e=await e.load())}else e=d.call;try{for(var g=arguments.length,h=new Array(g>1?g-1:0),i=1;i<g;i++)h[i-1]=arguments[i];return e.apply(void 0,[v,a].concat(h))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(b,"NATIVE_OP_ID",d.toString()).warn("Native operation %s failed",d.toString());throw a}},notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:function(b,d){var e;if(typeof d==="number"){e=g[b][d.toString()];if(e==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+d,"messenger_web_product")}else e=d.call;for(var f=arguments.length,h=new Array(f>2?f-2:0),i=2;i<f;i++)h[i-2]=arguments[i];return e.apply(void 0,[v,a].concat(h))},print:function(a){},resolve:function(a){var b;return((b=window.Promise)!=null?b:Promise).resolve(a)},rm:m.of_int32(a),seq:function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},slc:function(a,b){return Array.prototype.slice.call(a,b)},sp:async function(d){var h;if(typeof d==="string"){h=l[d];h.load&&(h=await h.load());if(h==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+d,"messenger_web_product")}else h=d;var i=this;switch(a){case 0:i=t(2,e,f,g,l,r,u,v,w,x);break;case 2:i=t(1,e,f,g,l,r,u,v,w,x);break}z.push(d);try{for(var j=arguments.length,k=new Array(j>1?j-1:0),m=1;m<j;m++)k[m-1]=arguments[m];return await h.apply(void 0,k.concat([i]))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(b,"SPROC_STACK",z.join("\n")).warn("Sproc %s failed",d);throw a}finally{z.pop()}},throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},ta:d("LSIterationHelpers").toArray,toJSON:function(a){return d("LSJson").stringify(a)},sb:d("LSIterationHelpers").sortBy,localize:function(a,b){a=c("bs_caml_int64").to_string(a);var d=function(a){return!b?"":b[a]||""};return r(a,d).toString()},localizeV2:function(a,b){a=c("bs_caml_int64").to_string(a);var d=function(a){return!b?"":b[a]||""};return u(a,d).toString()}}}t.n=p;g.default=t}),98);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g){a=function(a,b){switch(a){default:return""}};e.exports=a}),null);
__d("LSLocalizedStringsV2",["fbt","bs_caml_int64"],(function(a,b,c,d,e,f,g){a=function(a,c){switch(a){case"2285622730":return g._(/*FBT_CALL*/"Messenger\uac00 \uc624\ud504\ub77c\uc778 \uc0c1\ud0dc\uc785\ub2c8\ub2e4"/*FBT_CALL*/);case"1919524925":return g._(/*FBT_CALL*/"\uc5f0\uacb0 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc138\uc694. \uc778\ud130\ub137\uc5d0 \uc5f0\uacb0\ud558\uba74 \uba54\uc2dc\uc9c0 \ubcf4\ub0b4\uae30 \ub610\ub294 \ucc44\ud305 \uc0c9\uc0c1 \ubcc0\uacbd \ub4f1 \ucc44\ud305\uc5d0\uc11c \uc624\ud504\ub77c\uc778\uc73c\ub85c \uc218\ud589\ud55c \uc791\uc5c5\uc774 \uc644\ub8cc\ub429\ub2c8\ub2e4."/*FBT_CALL*/);case"14617150":return g._(/*FBT_CALL*/"Facebook \uc0ac\uc6a9\uc790"/*FBT_CALL*/);case"4002265907":return g._(/*FBT_CALL*/"\ub0b4\uac00 \ub098\uc5d0\uac8c \ubcf4\ub0b8 \ub2f5\uc7a5"/*FBT_CALL*/);case"2663996736":return g._(/*FBT_CALL*/"{participant_name}\ub2d8\uc5d0\uac8c \ubcf4\ub0b8 \ub2f5\uc7a5"/*FBT_CALL*/,[g._param("participant_name",c(0))]);case"2868699317":return g._(/*FBT_CALL*/"{sender_name}\ub2d8\uc774 \ud68c\uc6d0\ub2d8\uc5d0\uac8c \ubcf4\ub0b8 \ub2f5\uc7a5"/*FBT_CALL*/,[g._param("sender_name",c(0))]);case"2688620547":return g._(/*FBT_CALL*/"{sender_name}\ub2d8\uc774 \uc790\uc2e0\uc5d0\uac8c \ubcf4\ub0b8 \ub2f5\uc7a5"/*FBT_CALL*/,[g._param("sender_name",c(0))]);case"3544071775":return g._(/*FBT_CALL*/"{sender_name}\ub2d8\uc774 {reply_source_sender_name}\ub2d8\uc5d0\uac8c \ubcf4\ub0b8 \ub2f5\uc7a5"/*FBT_CALL*/,[g._param("sender_name",c(0)),g._param("reply_source_sender_name",c(1))]);case"2375715979":return g._(/*FBT_CALL*/"\uba54\uc2dc\uc9c0 \ubcf4\ub0b4\uae30\ub97c \ucde8\uc18c\ud588\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"3810165735":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \uba54\uc2dc\uc9c0 \ubcf4\ub0b4\uae30\ub97c \ucde8\uc18c\ud588\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"1890485478":return g._(/*FBT_CALL*/"\ud68c\uc6d0\ub2d8"/*FBT_CALL*/);case"1299547062":return g._(/*FBT_CALL*/"\uc2a4\ud2f0\ucee4\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"3621454483":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \uc2a4\ud2f0\ucee4\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"3948960063":return g._(/*FBT_CALL*/"\ucca8\ubd80 \ud30c\uc77c\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"1249692047":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \ucca8\ubd80 \ud30c\uc77c\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"2106510577":return g._(/*FBT_CALL*/"\uc0ac\uc9c4\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"3960370133":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \uc0ac\uc9c4\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"3798396796":return g._(/*FBT_CALL*/"{app_name}\uc5d0\uc11c GIF\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("app_name",c(0))]);case"3388601579":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 {app_name}\uc5d0\uc11c GIF\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0)),g._param("app_name",c(1))]);case"1556712457":return g._(/*FBT_CALL*/"GIF\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"3601791933":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 GIF\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"3759817031":return g._(/*FBT_CALL*/"\ub3d9\uc601\uc0c1\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"2934729541":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \ub3d9\uc601\uc0c1\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"392493418":return g._(/*FBT_CALL*/"\ud68c\uc6d0\ub2d8\uc774 \uc74c\uc131 \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"4085467454":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \uc74c\uc131 \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"2738683656":return g._(/*FBT_CALL*/"\uc140\uce74 \uc2a4\ud2f0\ucee4\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"2996525642":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \uc140\uce74 \uc2a4\ud2f0\ucee4\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"2285746939":return g._(/*FBT_CALL*/"\uc2a4\ud1a0\ub9ac\uc5d0 \ub2f5\uc7a5\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"3759448420":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \uc2a4\ud1a0\ub9ac\uc5d0 \ub2f5\uc7a5\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"2135145355":return g._(/*FBT_CALL*/"\uc2e4\uc2dc\uac04 \uc704\uce58 \uc815\ubcf4\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"3603511704":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \uc2e4\uc2dc\uac04 \uc704\uce58 \uc815\ubcf4\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);case"705614308":return g._(/*FBT_CALL*/{"*":"\uc0ac\uc9c4 {number}\uc7a5\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4.","_1":"\uc0ac\uc9c4\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."}/*FBT_CALL*/,[g._plural(b("bs_caml_int64").to_float(c(0)),"number")]);case"313217698":return g._(/*FBT_CALL*/{"*":"{user_name}\ub2d8\uc774 \uc0ac\uc9c4 {number}\uc7a5\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4.","_1":"{user_name}\ub2d8\uc774 \uc0ac\uc9c4\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."}/*FBT_CALL*/,[g._param("user_name",c(0)),g._plural(b("bs_caml_int64").to_float(c(1)),"number")]);case"3558654267":return g._(/*FBT_CALL*/"\ucca8\ubd80 \ud30c\uc77c \uc5ec\ub7ec \uac1c\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/);case"3422266740":return g._(/*FBT_CALL*/"{user_name}\ub2d8\uc774 \ucca8\ubd80 \ud30c\uc77c \uc5ec\ub7ec \uac1c\ub97c \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4."/*FBT_CALL*/,[g._param("user_name",c(0))]);default:return""}};e.exports=a}),null);
__d("Base64.bs",["base64-js"],(function(a,b,c,d,e,f){"use strict";function g(a){return b("base64-js").fromByteArray(new TextEncoder().encode(a))}function a(a){var c=new TextDecoder();return c.decode(b("base64-js").toByteArray(a))}function c(a){var b=new TextDecoder();a=new Uint8Array(a);return g(b.decode(a))}function d(a){return b("base64-js").fromByteArray(new Uint8Array(a))}function e(a){return b("base64-js").toByteArray(a).buffer}f.encodeUnicode=g;f.decodeUnicode=a;f.encodeArrayBuffer=c;f.fromArrayBuffer=d;f.toArrayBuffer=e}),null);
__d("LSBase64Decode.bs",["Base64.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return window.Promise.resolve([b("Base64.bs").toArrayBuffer(d)])}f.call=a}),null);
__d("LSBase64Encode.bs",["Base64.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return window.Promise.resolve([b("Base64.bs").fromArrayBuffer(d)])}f.call=a}),null);
__d("LSRequestId.bs",["bs_caml_int64","uuid"],(function(a,b,c,d,e,f){"use strict";var g="0123456789abcdef",h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(a){a=b("uuid")();var c=/[^0-9a-f]/gi;a=a.replace(c,"");c=0;var d="";while(c<33){var e,f=(e=b("bs_caml_int64")).lsl_(e.of_int32(g.indexOf(a.charAt(c))),8);c=c+1|0;var i=e.lsl_(e.of_int32(g.indexOf(a.charAt(c))),4);c=c+1|0;var j=e.of_int32(g.indexOf(a.charAt(c)));c=c+1|0;j=e.or_(j,e.or_(i,f));i=e.asr_(j,6);f=e.and_(j,[0,63]);d=d+(h.charAt(e.to_int32(i))+h.charAt(e.to_int32(f)))}return"#"+d}f.hexlist=g;f.b64list=h;f.generate=a}),null);
__d("LSResult.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f.make=a}),null);
__d("LSCreateDataTraceID.bs",["LSRequestId.bs","LSResult.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return window.Promise.resolve(b("LSResult.bs").make(b("LSRequestId.bs").generate(void 0)))}f.call=a}),null);
__d("TextEncoder.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.encode(b).buffer}f.encodeToArrayBuffer=a}),null);
__d("LSGetBlobFromString.bs",["LSResult.bs","Promise","TextEncoder.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){a=new TextEncoder();return b("Promise").resolve(b("LSResult.bs").make(b("TextEncoder.bs").encodeToArrayBuffer(a,d)))}f.call=a}),null);
__d("LSGetRandomNumber.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreGetRandomNumber not implemented","messenger_comet")}f.call=a}),null);
__d("LSIsLocalizationSupported.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return window.Promise.resolve(!1)}f.call=a}),null);
__d("LSIsLocalizationV2Supported.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return window.Promise.resolve(!1)}f.call=a}),null);
__d("LSClientLogLevel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];e=[0,4];f.verbose=a;f.warning=c;f.error=d;f.info=e}),null);
__d("LSLog.bs",["FBLogger","LSClientLogLevel.bs","LogHistory","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){a=b("FBLogger")("messenger_web_product");if(e==="epoch mismatch"){a.info("Epoc Mismatch");return}if(b("bs_caml").i64_eq(d,b("LSClientLogLevel.bs").warning)){a.warn(e);return}if(b("bs_caml").i64_eq(d,b("LSClientLogLevel.bs").error)){a.mustfix(e);return}c=b("LogHistory").getInstance("messenger-comet");c.log(e,"")}f.call=a}),null);
__d("LSResolveLocalizedString.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreResolveLocalizedString not implemented","messenger_comet")}f.call=a}),null);
__d("LSResolveLocalizedStringV2.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreResolveLocalizedStringV2 not implemented","messenger_comet")}f.call=a}),null);
__d("LSNativeOperations",["LSAppendDataTraceAddon.bs","LSBase64Decode.bs","LSBase64Encode.bs","LSCreateDataTraceID.bs","LSFlushDataTrace.bs","LSGetBlobFromString.bs","LSGetRandomNumber.bs","LSIsLocalizationSupported.bs","LSIsLocalizationV2Supported.bs","LSLog.bs","LSLogEventAnnotate.bs","LSResolveLocalizedString.bs","LSResolveLocalizedStringV2.bs","requireDeferred"],(function(a,b,c,d,e,f){"use strict";e.exports={3:b("requireDeferred")("LSCreateInvertibleBloomFilterEncoder.bs").__setRef("LSNativeOperations"),4:b("LSGetRandomNumber.bs").call,7:b("LSLog.bs").call,12:b("LSResolveLocalizedString.bs").call,13:b("LSIsLocalizationSupported.bs").call,71:b("LSBase64Encode.bs").call,72:b("LSBase64Decode.bs").call,73:b("LSResolveLocalizedStringV2.bs").call,74:b("LSIsLocalizationV2Supported.bs").call,104:b("LSGetBlobFromString.bs").call,108:b("LSLogEventAnnotate.bs").call,68:b("LSFlushDataTrace.bs").call,69:b("LSAppendDataTraceAddon.bs").call,70:b("LSCreateDataTraceID.bs").call}}),null);
__d("LSArrayRemoveObjectAt",["Promise","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e,f){return b("Promise").resolve([e.splice(d("bs_caml_int64").to_int32(f),1)])}g.call=a}),98);
__d("LSArrayRemoveObjectAtV2",["LSArrayRemoveObjectAt"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("LSArrayRemoveObjectAt").call;f.call=a}),66);
__d("LSArraySortNumeric",["LSDbKeyComparer","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e){return b("Promise").resolve([e.sort(d("LSDbKeyComparer").compareValue)])}g.call=a}),98);
__d("LSInvertibleBloomFilterEncoderCreateEncodedArray.bs",["LSVec.bs","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return window.Promise.resolve([b("LSVec.bs").make(b("bs_curry")._1(d.serializeToArray,void 0))])}f.call=a}),null);
__d("LSInvertibleBloomFilterEncoderCreateEncodedArray",["LSInvertibleBloomFilterEncoderCreateEncodedArray.bs"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("LSInvertibleBloomFilterEncoderCreateEncodedArray.bs").call;f.call=a}),66);
__d("LSInvertibleBloomFilterEncoderInsert",["LSInvertibleBloomFilterEncoderCreateEncodedArray.bs"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("LSInvertibleBloomFilterEncoderCreateEncodedArray.bs").call;f.call=a}),66);
__d("LSNativeTypeOperations",["LSArrayGetObjectAt","LSArrayGetObjectAtV2","LSArrayRemoveObjectAt","LSArrayRemoveObjectAtV2","LSArraySortNumeric","LSInvertibleBloomFilterEncoderCreateEncodedArray","LSInvertibleBloomFilterEncoderInsert"],(function(a,b,c,d,e,f,g){"use strict";a=[d("LSArrayGetObjectAtV2").call,d("LSArrayRemoveObjectAtV2").call];b={3:d("LSArrayGetObjectAt").call,4:d("LSArrayRemoveObjectAt").call,19:d("LSArraySortNumeric").call};c={10:d("LSInvertibleBloomFilterEncoderInsert").call,11:d("LSInvertibleBloomFilterEncoderCreateEncodedArray").call};g._=a;g.Array=b;g.InvertibleBloomFilterEncoder=c}),98);
__d("LSStoredProceduresCommon.bs",["cr:1856840"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1856840").storedProcedures;f.$LSStoredProcedures$OR$LSStoredProceduresStatic$requireCond=b("cr:1856840");f.storedProcedures=a}),null);
__d("LSOpenVm.bs",["LS","LSLocalizedStrings","LSLocalizedStringsV2","LSNativeOperations","LSNativeTypeOperations","LSStoredProceduresCommon.bs","MPWLSDBCreateSchema.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("LSLocalizedStringsV2"),h=b("LSLocalizedStrings"),i=b("LSNativeTypeOperations"),j=b("LSNativeOperations");function a(a){return b("LS")(1,b("MPWLSDBCreateSchema.bs").metadata,j,i,b("LSStoredProceduresCommon.bs").storedProcedures,h,g,a,0)}f.make=a}),null);
__d("LSClearMessagePlaceholderRange",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(13).fetch([[[a[0],[0,0]]]]),function(c){return b.i64.eq(c.a,a[0])&&c.c===a[1]&&b.i64.eq([0,0],c.b)&&b.i64.eq([0,0],c.d)}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSInsertNewMessageRange",["LSClearMessagePlaceholderRange"],(function(a,b,c,d,e,f){a=function(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSClearMessagePlaceholderRange"),a[0],a[9])},function(b){return c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[5]}]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.le(b.b,a[5])&&c.i64.ge(b.d,a[5])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[1],a[3],a[7]],d[0]=e[0],d[1]=e[1],d[2]=e[2],e):(c=b.item,e=[c.b,c.c,c.h],d[0]=e[0],d[1]=e[1],d[2]=e[2],e)})},function(b){return c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.le(b.b,a[6])&&c.i64.ge(b.d,a[6])}).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[a[2],a[4],a[8]],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(c=b.item,e=[c.d,c.e,c.i],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(b){return c.fe(c.ftr(c.db.table(13).fetch([[[a[0],{lte:a[6]}]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.ge(a[6],b.b)&&c.i64.le(a[5],b.d)}),function(a){return a["delete"]()})},function(b){return c.db.table(13).put({a:a[0],b:d[0],c:d[1],d:d[4],e:d[5],f:!1,g:!1,h:d[2],i:d[6]})}])},function(a){return c.resolve(e)}])};e.exports=a}),null);
__d("LSThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){a=function(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return a[1]&&c.i64.eq(a[6],[0,0])?c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({f:!1})}):(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)||a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))&&!(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)&&a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))?c.seq([function(e){return d[8]=a[3]==null?[-2147483648,0]:a[3],d[9]=a[6]==null?[0,1]:a[6],d[10]=c.i64.gt(d[9],[0,1])&&c.i64.gt(d[8],[-2147483648,0]),c.sp(b("LSGetCursor"),[0,1]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=new c.Map(),d[2].set("is_after",a[2]),d[2].set("parent_thread_key",a[0]),d[2].set("reference_thread_key",a[2]?a[4]:a[3]),d[2].set("reference_activity_timestamp",a[2]?a[5]:a[6]),d[2].set("additional_pages_to_fetch",a[7]),d[2].set("cursor",d[1]),d[2].set("messaging_tag",f),c.i64.gt([0,0],[0,0])?d[4]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[4]=[0,0],d[5]=c.toJSON(d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",[0,145],d[5],f,f,[0,0],f).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.db.table(10).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(10).add({a:a[0],b:d[8],c:d[9],e:[0,1],d:[-2147483648,0],f:d[10],g:!1,h:d[10],i:!1}):(b.item,c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({f:!0,g:!1,h:d[10],i:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])};e.exports=a}),null);
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){a=function(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.seq([function(c){return b.fe(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({a:a[0],b:a[1],c:a[2],d:[2328,1316134911],g:a[3],h:!1,e:!1,f:!1})}])},function(a){return b.resolve(c)}])};e.exports=a}),null);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){a=function(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(e){var g=e.done;e.value;return g?c.seq([function(b){return d[0]=a[3]==null?"":a[3],c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.a,a[0])&&c.i64.eq([0,1],[0,1])&&c.i64.lt(b.J,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({a:a[0],b:a[2]==null?"":a[2],c:a[5],h:d[0],K:a[19],i:d[0],l:a[9],n:a[11],w:a[12],e:"",k:!0,o:0,q:a[4],r:[0,0],u:!1,J:a[14],F:[0,0],G:a[15],H:a[18],I:a[17]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"cpq_v2",[0,207],d[2],f,f,[0,0],f)}]):0})},function(a){return c.resolve(e)}])};e.exports=a}),null);
__d("LSStoredProcedures",["LSAddParticipantIdToGroupThread","LSApplyAdminMessageCTA","LSBeginHandlingPendingTasksForQueue","LSBeginHandlingSyncForSyncGroup","LSClearMessagePlaceholderRange","LSComputeParticipantCapabilities","LSDeletePollAttachment","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertRankingRequest","LSDeleteThenInsertRankingScore","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSFilteredThreadsRangesQuery","LSGetCursor","LSGetFirstAvailableAdminMessageCTAID","LSGetFirstAvailableAttachmentCTAID","LSGetFirstAvailableQuickReplyCTAID","LSGetViewerFBID","LSHandleFailedTask","LSHandlePlaceholderPollData","LSInsertAttachment","LSInsertAttachmentItem","LSInsertBlobAttachment","LSInsertNewMessageRange","LSInsertXmaAttachment","LSIssueInsertPersistentMenuItemsForThreadTask","LSIssueNewTask","LSIssueNewTaskAndGetTaskID","LSMarkThreadRead","LSOptimisticUpsertReaction","LSRemoveTask","LSSetMessageDisplayedContentTypes","LSSetMessageTextHasLinks","LSSetRegionHint","LSSetThreadImageURL","LSTaskExists","LSThreadsRangesQuery","LSUpdateExtraAttachmentColumns","LSUpdateReadReceipt","LSUpdateThreadsRangesV2","LSUpsertAttachmentRange","LSUpsertGradientColor","LSUpsertMessage","LSUpsertSequenceId","LSUpsertSticker","LSUpsertStickerPack","LSUpsertTheme","LSVerifyContactRowExists","LSVerifyPollExists","LSVerifyThreadExists","LSVerifyThreadRowExists","LSWriteThreadCapabilities","requireDeferred"],(function(a,b,c,d,e,f){c={1:b("LSIssueNewTask"),2:b("LSIssueNewTaskAndGetTaskID"),3:(a=b("requireDeferred"))("LSCancelTaskByQueueName").__setRef("LSStoredProcedures"),4:b("LSGetViewerFBID"),5:b("LSHandleFailedTask"),395:b("LSExecuteFinallyBlockForSyncTransaction"),6:a("LSIssueNewFireAndForgetTask").__setRef("LSStoredProcedures"),396:b("LSExecuteFirstBlockForSyncTransaction"),8:b("LSRemoveTask"),9:a("LSHandleSyncFailure").__setRef("LSStoredProcedures"),10:a("LSForceImmediateSync").__setRef("LSStoredProcedures"),11:a("LSIssueNewError").__setRef("LSStoredProcedures"),12:a("LSRemoveError").__setRef("LSStoredProcedures"),13:b("LSTaskExists"),14:a("LSUpdateTaskQueueName").__setRef("LSStoredProcedures"),15:a("LSUpdateTaskValue").__setRef("LSStoredProcedures"),16:b("LSGetCursor"),17:a("LSUpdateOptimisticContextThreadKeys").__setRef("LSStoredProcedures"),397:a("LSUpdateLastSyncCompletedTimestampMsToNow").__setRef("LSStoredProcedures"),18:b("LSSetRegionHint"),19:a("LSSetBackgroundMode").__setRef("LSStoredProcedures"),20:a("LSBeginHandlingPendingTasks").__setRef("LSStoredProcedures"),21:b("LSBeginHandlingPendingTasksForQueue"),22:a("LSHandleTaskSendSuccessForQueue").__setRef("LSStoredProcedures"),23:a("LSHandleTaskSendFailureForQueue").__setRef("LSStoredProcedures"),534:b("LSBeginHandlingSyncForSyncGroup"),535:a("LSBeginHandlingSync").__setRef("LSStoredProcedures"),533:b("LSVerifyContactRowExists"),25:b("LSDeleteThenInsertContact"),26:a("LSInsertContact").__setRef("LSStoredProcedures"),27:a("LSOptimisticSetBlockStatus").__setRef("LSStoredProcedures"),28:a("LSContactUpload").__setRef("LSStoredProcedures"),29:a("LSSetContactCapabilities").__setRef("LSStoredProcedures"),30:a("LSOptimisticPseudoUnblock").__setRef("LSStoredProcedures"),583:a("LSSetMessengerRestrict").__setRef("LSStoredProcedures"),31:a("LSResetOptimisticBlockState").__setRef("LSStoredProcedures"),584:a("LSAddMessengerContact").__setRef("LSStoredProcedures"),603:a("LSSetUserBlockStatus").__setRef("LSStoredProcedures"),32:a("LSLocalApplyOptimisticMessage").__setRef("LSStoredProcedures"),398:a("LSLocalApplyOptimisticMessageWithAttachments").__setRef("LSStoredProcedures"),33:a("LSInsertOptimisticAttachment").__setRef("LSStoredProcedures"),399:a("LSUpdateOptimisticAttachmentPreview").__setRef("LSStoredProcedures"),34:a("LSOptimisticSendMessage").__setRef("LSStoredProcedures"),35:a("LSIssueSendAttachmentMessageTask").__setRef("LSStoredProcedures"),36:a("LSOptimisticSendURLShare").__setRef("LSStoredProcedures"),37:a("LSOptimisticSendMessageForward").__setRef("LSStoredProcedures"),38:a("LSOptimisticSendAttachmentForward").__setRef("LSStoredProcedures"),400:a("LSOptimisticSendAttachmentShareForward").__setRef("LSStoredProcedures"),401:a("LSCleanupOptimisticOrderingOfSentMessages").__setRef("LSStoredProcedures"),39:a("LSAddParticipantToGroupThread").__setRef("LSStoredProcedures"),40:b("LSAddParticipantIdToGroupThread"),402:a("LSOptimisticRemoveParticipantsFromGroupThread").__setRef("LSStoredProcedures"),41:b("LSInsertNewMessageRange"),42:a("LSUpdateExistingMessageRange").__setRef("LSStoredProcedures"),43:a("LSUpdateMessageRangeV1").__setRef("LSStoredProcedures"),44:b("LSUpsertAttachmentRange"),45:a("LSIssueAttachmentsRangeQuery").__setRef("LSStoredProcedures"),46:a("LSMessagePointQuery").__setRef("LSStoredProcedures"),47:b("LSClearMessagePlaceholderRange"),48:b("LSMarkThreadRead"),49:a("LSMarkAllThreadsRead").__setRef("LSStoredProcedures"),570:a("LSUpdateThreadSnippetFromLastMessageV2").__setRef("LSStoredProcedures"),53:a("LSDeleteMessage").__setRef("LSStoredProcedures"),54:a("LSOptimisticUnsendMessage").__setRef("LSStoredProcedures"),55:a("LSDeleteThread").__setRef("LSStoredProcedures"),56:a("LSDeleteMessageRequest").__setRef("LSStoredProcedures"),57:a("LSOptimisticDeleteThread").__setRef("LSStoredProcedures"),58:a("LSOptimisticRemoveThread").__setRef("LSStoredProcedures"),569:a("LSOptimisticUnarchiveThread").__setRef("LSStoredProcedures"),606:a("LSOptimisticUnignoreMessage").__setRef("LSStoredProcedures"),59:a("LSTaskSerializerRemoveThread").__setRef("LSStoredProcedures"),60:a("LSSendMessageV2FailureCleanup").__setRef("LSStoredProcedures"),61:a("LSUpdateDeliveryReceipt").__setRef("LSStoredProcedures"),62:a("LSSyncUpdateThreadName").__setRef("LSStoredProcedures"),597:a("LSOptimisticUpdateThreadNameV2").__setRef("LSStoredProcedures"),64:a("LSUpdateThreadImage").__setRef("LSStoredProcedures"),65:a("LSOptimisticUpdateThreadTheme").__setRef("LSStoredProcedures"),405:a("LSOptimisticUpdateThreadCustomEmoji").__setRef("LSStoredProcedures"),406:a("LSOptimisticUpdateThreadDisappearingMode").__setRef("LSStoredProcedures"),66:b("LSSetThreadImageURL"),67:a("LSIssueSetThreadImageTask").__setRef("LSStoredProcedures"),68:a("LSOptimisticRemoveThreadImage").__setRef("LSStoredProcedures"),407:a("LSUpdateThreadParticipantAdminStatus").__setRef("LSStoredProcedures"),408:a("LSOverwriteAllThreadParticipantsAdminStatus").__setRef("LSStoredProcedures"),409:a("LSUpdateThreadParticipantNicknameV2").__setRef("LSStoredProcedures"),410:a("LSOptimisticUpdateThreadParticipantNickname").__setRef("LSStoredProcedures"),70:a("LSOptimisticExitFocusMode").__setRef("LSStoredProcedures"),71:b("LSVerifyThreadRowExists"),411:a("LSOptimisticUpdateThreadParticipantAdminStatus").__setRef("LSStoredProcedures"),72:b("LSOptimisticUpsertReaction"),412:a("LSOptimisticRespondToAdminApprovalRequest").__setRef("LSStoredProcedures"),73:a("LSUpdateDraftMessage").__setRef("LSStoredProcedures"),74:a("LSLocalMarkThreadRead").__setRef("LSStoredProcedures"),413:b("LSGetFirstAvailableQuickReplyCTAID"),414:b("LSGetFirstAvailableAttachmentCTAID"),415:a("LSGetFirstAvailableThreadNullstateCTAID").__setRef("LSStoredProcedures"),76:a("LSGetFirstAvailableFocusModeCTAID").__setRef("LSStoredProcedures"),77:a("LSUpdateThreadNullstateCTAID").__setRef("LSStoredProcedures"),78:a("LSGetThreadAttributionInfo").__setRef("LSStoredProcedures"),416:a("LSSetNeedsAdminApprovalForNewParticipant").__setRef("LSStoredProcedures"),417:a("LSOptimisticSetNeedsAdminApprovalForNewParticipant").__setRef("LSStoredProcedures"),79:a("LSUpdateThreadApprovalMode").__setRef("LSStoredProcedures"),80:a("LSInsertIntoAdminApprovalQueue").__setRef("LSStoredProcedures"),81:a("LSRemoveFromAdminApprovalQueue").__setRef("LSStoredProcedures"),418:a("LSRemoveAllRequestsFromAdminApprovalQueue").__setRef("LSStoredProcedures"),419:a("LSUpdateParticipantSubscribeSourceText").__setRef("LSStoredProcedures"),82:a("LSInsertRtcSignal").__setRef("LSStoredProcedures"),83:a("LSRtcP2PEndCall").__setRef("LSStoredProcedures"),420:a("LSUpdateOrInsertRtcOngoingCallData").__setRef("LSStoredProcedures"),84:a("LSDeleteRtcOngoingCallData").__setRef("LSStoredProcedures"),421:a("LSUpsertRtcMultiwayCallInitiationConferenceName").__setRef("LSStoredProcedures"),422:a("LSDeleteRtcMultiwayCallInitiationConferenceName").__setRef("LSStoredProcedures"),85:a("LSFetchMultiwayConferenceName").__setRef("LSStoredProcedures"),423:b("LSGetFirstAvailableAdminMessageCTAID"),86:b("LSApplyAdminMessageCTA"),87:b("LSUpsertSequenceId"),88:b("LSSetMessageTextHasLinks"),89:a("LSSetMessageViewFlags").__setRef("LSStoredProcedures"),90:b("LSSetMessageDisplayedContentTypes"),91:a("LSUpdateThreadThemeColor").__setRef("LSStoredProcedures"),92:a("LSMarkThreadUnread").__setRef("LSStoredProcedures"),93:a("LSOptimisticMarkThreadUnread").__setRef("LSStoredProcedures"),95:b("LSThreadsRangesQuery"),96:a("LSHandleRepliesOnUnsend").__setRef("LSStoredProcedures"),97:a("LSUpdateRepliesOnUnsend").__setRef("LSStoredProcedures"),98:a("LSSetThreadCannotUnsendReason").__setRef("LSStoredProcedures"),99:a("LSRemoveParticipantFromThread").__setRef("LSStoredProcedures"),100:a("LSUpdateParentFolderReadWatermark").__setRef("LSStoredProcedures"),424:a("LSOptimisticDeleteSponsoredMessageAd").__setRef("LSStoredProcedures"),101:a("LSSendCTMWelcomeMessageFromApp").__setRef("LSStoredProcedures"),102:a("LSChangeViewerStatus").__setRef("LSStoredProcedures"),103:a("LSSetMessagesViewedPlugin").__setRef("LSStoredProcedures"),104:a("LSUpdateThreadMuteSetting").__setRef("LSStoredProcedures"),105:a("LSGetParentThreadKey").__setRef("LSStoredProcedures"),106:a("LSUpdateSenderIDToPersonaID").__setRef("LSStoredProcedures"),107:a("LSUpdateAdditionalThreadContext").__setRef("LSStoredProcedures"),108:a("LSOptimisticIgnoreMessageRequest").__setRef("LSStoredProcedures"),109:a("LSOptimisticAcceptMessageRequest").__setRef("LSStoredProcedures"),110:a("LSUpsertReaction").__setRef("LSStoredProcedures"),111:a("LSDeleteReaction").__setRef("LSStoredProcedures"),112:a("LSDeleteAllReactions").__setRef("LSStoredProcedures"),114:a("LSWriteCtaAccountLinkEncodedUrl").__setRef("LSStoredProcedures"),115:a("LSSetThreadCapabilities").__setRef("LSStoredProcedures"),116:a("LSProcessAccountUnlink").__setRef("LSStoredProcedures"),117:a("LSDeleteExpiredMSuggestions").__setRef("LSStoredProcedures"),118:a("LSUpdateThreadOngoingCallState").__setRef("LSStoredProcedures"),119:a("LSUpdateOngoingCallServerInfoData").__setRef("LSStoredProcedures"),120:a("LSUpsertMSuggestions").__setRef("LSStoredProcedures"),425:a("LSCreateCtaAccountLinkEncodedUrlV2").__setRef("LSStoredProcedures"),121:b("LSWriteThreadCapabilities"),122:a("LSProcessCTAAccountUnlink").__setRef("LSStoredProcedures"),123:b("LSUpsertMessage"),124:a("LSInsertMessage").__setRef("LSStoredProcedures"),125:a("LSDeleteThenInsertMessage").__setRef("LSStoredProcedures"),126:a("LSUpsertFolder").__setRef("LSStoredProcedures"),127:a("LSUpdateShouldRoundThreadPicture").__setRef("LSStoredProcedures"),128:b("LSVerifyThreadExists"),129:a("LSTaskSerializerSendMessageV2").__setRef("LSStoredProcedures"),130:b("LSDeleteThenInsertThread"),131:b("LSDeleteThenInsertMessageRequest"),426:a("LSDeleteThenInsertAdminApprovalRequest").__setRef("LSStoredProcedures"),132:a("LSUpdateFolderThreadSnippet").__setRef("LSStoredProcedures"),133:a("LSResetPageMessagingWindow").__setRef("LSStoredProcedures"),134:a("LSSendPlatformReferralEvent").__setRef("LSStoredProcedures"),135:b("LSUpdateThreadsRangesV2"),136:a("LSUpdateThreadCustomEmoji").__setRef("LSStoredProcedures"),137:a("LSApplyNewGroupThread").__setRef("LSStoredProcedures"),138:b("LSInsertAttachment"),139:b("LSInsertAttachmentItem"),140:a("LSDeleteThenInsertAttachment").__setRef("LSStoredProcedures"),141:a("LSInsertCta").__setRef("LSStoredProcedures"),142:a("LSDeleteThenInsertFocusModeCta").__setRef("LSStoredProcedures"),143:a("LSDeleteFocusModeCta").__setRef("LSStoredProcedures"),144:b("LSUpdateReadReceipt"),145:a("LSIssueParticipantPointQuery").__setRef("LSStoredProcedures"),146:a("LSUpdateThreadTheme").__setRef("LSStoredProcedures"),147:a("LSMarkOptimisticMessageFailed").__setRef("LSStoredProcedures"),148:a("LSBumpThread").__setRef("LSStoredProcedures"),427:a("LSMoveThreadToInboxAndUpdateParent").__setRef("LSStoredProcedures"),149:a("LSRemoveOptimisticReaction").__setRef("LSStoredProcedures"),150:a("LSRemoveOptimisticGroupThread").__setRef("LSStoredProcedures"),151:a("LSRemoveOptimisticParticipant").__setRef("LSStoredProcedures"),152:a("LSUpdateHasMenuAndComposer").__setRef("LSStoredProcedures"),428:a("LSLocalCreateOptimisticGroupThread").__setRef("LSStoredProcedures"),153:a("LSOptimisticIgnoreMessage").__setRef("LSStoredProcedures"),154:a("LSCreateOfflineThreadingID").__setRef("LSStoredProcedures"),155:a("LSUpsertMessagesStatusInTable").__setRef("LSStoredProcedures"),156:a("LSReplaceOptimsiticMessage").__setRef("LSStoredProcedures"),157:a("LSReplaceOptimisticThread").__setRef("LSStoredProcedures"),158:a("LSReplaceOptimisticReaction").__setRef("LSStoredProcedures"),159:a("LSRemoveAllParticipantsForThread").__setRef("LSStoredProcedures"),160:a("LSRetryMessageRangeQuery").__setRef("LSStoredProcedures"),161:a("LSOptimisticMarkThreadReadV2").__setRef("LSStoredProcedures"),162:b("LSComputeParticipantCapabilities"),163:a("LSUpdateExistingThreadV2").__setRef("LSStoredProcedures"),164:a("LSTaskSerializerMuteThreadV2").__setRef("LSStoredProcedures"),165:a("LSOptimisticMuteThread").__setRef("LSStoredProcedures"),166:a("LSMarkFolderSeen").__setRef("LSStoredProcedures"),167:a("LSClearLocalThreadPictureUrl").__setRef("LSStoredProcedures"),168:a("LSLocalApplyOptimisticGroupThread").__setRef("LSStoredProcedures"),169:a("LSCreateGroupThreadWithAdminText").__setRef("LSStoredProcedures"),429:a("LSComputeOptimisticThreadCapabilities").__setRef("LSStoredProcedures"),170:a("LSCheckAuthoritativeMessageExists").__setRef("LSStoredProcedures"),430:a("LSMarkMessageSendFailedAfterDeserializationError").__setRef("LSStoredProcedures"),173:a("LSIssuePollCreationForThreadTask").__setRef("LSStoredProcedures"),431:a("LSGetAttachmentFbidWithOriginalFileHash").__setRef("LSStoredProcedures"),175:a("LSIssuePollUpdateForThread").__setRef("LSStoredProcedures"),176:b("LSDeletePollAttachment"),432:a("LSOptimisticUpdateThreadDescription").__setRef("LSStoredProcedures"),177:a("LSUpdateThreadDescription").__setRef("LSStoredProcedures"),178:a("LSUpdateParticipantCapabilities").__setRef("LSStoredProcedures"),179:a("LSAddPollForThread").__setRef("LSStoredProcedures"),180:a("LSDeletePollData").__setRef("LSStoredProcedures"),181:b("LSHandlePlaceholderPollData"),182:b("LSVerifyPollExists"),183:a("LSAddPollOptionV2").__setRef("LSStoredProcedures"),184:a("LSAddPollVoteV2").__setRef("LSStoredProcedures"),185:a("LSRemovePollVoteV2").__setRef("LSStoredProcedures"),186:a("LSUpdatePollAdminMessageSummary").__setRef("LSStoredProcedures"),187:a("LSSetPollsThreadCapability").__setRef("LSStoredProcedures"),188:a("LSDeleteCTAs").__setRef("LSStoredProcedures"),434:a("LSOptimisticProcessMarketplaceCallFunctionCTA").__setRef("LSStoredProcedures"),189:a("LSCreateMeetingPlan").__setRef("LSStoredProcedures"),190:a("LSSecureTemplateStatusUpdate").__setRef("LSStoredProcedures"),191:b("LSUpdateExtraAttachmentColumns"),435:a("LSRefreshMediaSendThreadCapabilities").__setRef("LSStoredProcedures"),436:a("LSDeleteThenInsertLinkedAccountBadge").__setRef("LSStoredProcedures"),192:a("LSUpdateEphemeralMediaState").__setRef("LSStoredProcedures"),437:a("LSUpdateOptimisticEphemeralMediaState").__setRef("LSStoredProcedures"),193:a("LSUpdateSubscriptErrorMessage").__setRef("LSStoredProcedures"),438:a("LSInsertOrUpdateInThreadBannerOnUnsend").__setRef("LSStoredProcedures"),439:a("LSSendPlatformReferralFireForgetEvent").__setRef("LSStoredProcedures"),547:a("LSIssueMessagesRangeQuery").__setRef("LSStoredProcedures"),580:a("LSOptimisticUpdateMessagePinStatus").__setRef("LSStoredProcedures"),581:b("LSFilteredThreadsRangesQuery"),586:a("LSClearCommunityMembersAndRange").__setRef("LSStoredProcedures"),587:a("LSPopulateCommunityFolderData").__setRef("LSStoredProcedures"),607:a("LSIssueCommunityMemberListFetch").__setRef("LSStoredProcedures"),608:a("LSInsertCommunityMember").__setRef("LSStoredProcedures"),609:a("LSUpsertCommunityMemberRanges").__setRef("LSStoredProcedures"),588:a("LSDeleteCommunityFolder").__setRef("LSStoredProcedures"),590:a("LSJoinCommunityChannel").__setRef("LSStoredProcedures"),591:b("LSInsertBlobAttachment"),594:b("LSInsertXmaAttachment"),595:a("LSUpdateThreadSnippet").__setRef("LSStoredProcedures"),596:a("LSDeleteThenInsertAttachmentConversion").__setRef("LSStoredProcedures"),599:a("LSMuteCallsFromThread").__setRef("LSStoredProcedures"),600:a("LSGetAttachmentForMessage").__setRef("LSStoredProcedures"),601:a("LSUpdatePreviewUrl").__setRef("LSStoredProcedures"),605:a("LSLocalOptimisticCreateCommunityChannel").__setRef("LSStoredProcedures"),610:a("LSLocalOptimisticDeleteCommunityChannel").__setRef("LSStoredProcedures"),615:a("LSReportMessageInCommunityChannel").__setRef("LSStoredProcedures"),616:a("LSReportCommunityChannel").__setRef("LSStoredProcedures"),619:a("LSVerifyCommunityFolderExists").__setRef("LSStoredProcedures"),228:a("LSInsertNewMediaSend").__setRef("LSStoredProcedures"),229:a("LSRemoveMediaSendJobs").__setRef("LSStoredProcedures"),231:a("LSMarkSubJobCompletedV2").__setRef("LSStoredProcedures"),232:a("LSSendPhase1MultiPhotoMessage").__setRef("LSStoredProcedures"),233:a("LSSendPhase2UpdateMessage").__setRef("LSStoredProcedures"),234:a("LSResumeMediaSendJob").__setRef("LSStoredProcedures"),235:a("LSInsertPhase2PendingTask").__setRef("LSStoredProcedures"),236:a("LSGetUploadParamsForPhase2").__setRef("LSStoredProcedures"),237:a("LSResetUseDoublePhaseConfig").__setRef("LSStoredProcedures"),462:a("LSResetSendByServerConfigIfNotDoublePhase").__setRef("LSStoredProcedures"),238:a("LSNextPendingJobIdToSchedule").__setRef("LSStoredProcedures"),239:a("LSGetMessageAttributionParams").__setRef("LSStoredProcedures"),240:a("LSGetIsFinalUploadingState").__setRef("LSStoredProcedures"),241:a("LSGetMediaSendConfig").__setRef("LSStoredProcedures"),242:a("LSUpdateTypingIndicator").__setRef("LSStoredProcedures"),243:a("LSSendTypingIndicator").__setRef("LSStoredProcedures"),303:a("LSIssueSearchQuery").__setRef("LSStoredProcedures"),304:a("LSUpdateSearchQueryStatus").__setRef("LSStoredProcedures"),305:a("LSInsertSearchResult").__setRef("LSStoredProcedures"),306:a("LSIssueMessageSearchQuery").__setRef("LSStoredProcedures"),307:a("LSUpdateMessageSearchQueryStatus").__setRef("LSStoredProcedures"),308:a("LSInsertMessageSearchResult").__setRef("LSStoredProcedures"),309:a("LSClearMessageSearchTable").__setRef("LSStoredProcedures"),310:a("LSInsertSearchSection").__setRef("LSStoredProcedures"),311:a("LSInsertRecentSearch").__setRef("LSStoredProcedures"),312:a("LSInsertRecentSearchResult").__setRef("LSStoredProcedures"),313:a("LSDeleteRecentSearch").__setRef("LSStoredProcedures"),314:a("LSDeleteAllRecentSearches").__setRef("LSStoredProcedures"),315:a("LSClearTables").__setRef("LSStoredProcedures"),465:a("LSContactUploadUpdateSettingsSuccess").__setRef("LSStoredProcedures"),466:a("LSContactUploadUpdateSettings").__setRef("LSStoredProcedures"),468:a("LSStoryAudienceModeUpdate").__setRef("LSStoredProcedures"),469:a("LSStoryArchiveModeUpdate").__setRef("LSStoredProcedures"),316:a("LSUpdateGlobalMuteUntil").__setRef("LSStoredProcedures"),472:a("LSOptimisticallyUpdateGlobalMuteUntil").__setRef("LSStoredProcedures"),473:a("LSUpdateShowMessagePreview").__setRef("LSStoredProcedures"),474:a("LSOptimisticallyUpdateShowMessagePreview").__setRef("LSStoredProcedures"),479:a("LSUpdateReplyReminderSetting").__setRef("LSStoredProcedures"),480:a("LSOptimisticallyUpdateReplyReminderSetting").__setRef("LSStoredProcedures"),317:a("LSUpdateIsSoundOn").__setRef("LSStoredProcedures"),481:a("LSOptimisticallyUpdateIsSoundOn").__setRef("LSStoredProcedures"),318:a("LSGdprConsentUpsert").__setRef("LSStoredProcedures"),482:a("LSGetFirstAvailablePersistentMenuItemsCTAID").__setRef("LSStoredProcedures"),483:a("LSInsertPersistentMenuItemsForThread").__setRef("LSStoredProcedures"),487:a("LSRemoveExistingPersistentMenuItems").__setRef("LSStoredProcedures"),488:b("LSIssueInsertPersistentMenuItemsForThreadTask"),489:a("LSOptimisticSetLockStatus").__setRef("LSStoredProcedures"),319:a("LSInsertLockStatus").__setRef("LSStoredProcedures"),320:a("LSCreateVideoChatLink").__setRef("LSStoredProcedures"),490:a("LSInsertCreatedVideoChatLink").__setRef("LSStoredProcedures"),321:a("LSResolveVideoChatLink").__setRef("LSStoredProcedures"),491:a("LSInsertResolvedVideoChatLink").__setRef("LSStoredProcedures"),492:a("LSNotifyVideoChatLinkJoinAttempt").__setRef("LSStoredProcedures"),493:a("LSRequestRankedRoomParticipants").__setRef("LSStoredProcedures"),322:a("LSInsertAttemptedJoiner").__setRef("LSStoredProcedures"),323:a("LSClearAttemptedJoiners").__setRef("LSStoredProcedures"),494:a("LSUpdateRoomsUserRingability").__setRef("LSStoredProcedures"),495:a("LSEnterMessengerCallRoom").__setRef("LSStoredProcedures"),496:a("LSInsertEnterMessengerCallRoom").__setRef("LSStoredProcedures"),324:a("LSRemoveVideoChatLink").__setRef("LSStoredProcedures"),325:a("LSRevokeVideoChatLink").__setRef("LSStoredProcedures"),497:a("LSInviteParticipantToVideoChatLink").__setRef("LSStoredProcedures"),498:a("LSInsertOrUpdateCowatchSession").__setRef("LSStoredProcedures"),326:a("LSRemoveCowatchSession").__setRef("LSStoredProcedures"),499:a("LSInsertOrUpdatePinnedThread").__setRef("LSStoredProcedures"),327:a("LSRemovePinnedThread").__setRef("LSStoredProcedures"),500:a("LSOptimisticallyInsertOrUpdatePinnedThread").__setRef("LSStoredProcedures"),501:a("LSOptimisticallyRemovePinnedThread").__setRef("LSStoredProcedures"),567:a("LSFetchPinnedThreads").__setRef("LSStoredProcedures"),568:a("LSTruncatePinnedThreads").__setRef("LSStoredProcedures"),502:a("LSInsertOrUpdateSelfProfile").__setRef("LSStoredProcedures"),503:a("LSDeleteThenInsertMessagingSettings").__setRef("LSStoredProcedures"),504:a("LSOptimisticallyUpdateMessagingSettings").__setRef("LSStoredProcedures"),505:a("LSUpdateMessagingSettings").__setRef("LSStoredProcedures"),506:a("LSUpsertLiveStreamMetadata").__setRef("LSStoredProcedures"),507:a("LSInsertOrUpdateFeatureLimit").__setRef("LSStoredProcedures"),328:a("LSRemoveFeatureLimit").__setRef("LSStoredProcedures"),576:a("LSOptimisticRemoveAllOfTypeThenInsertEmojiSets").__setRef("LSStoredProcedures"),598:a("LSEpdCookieSettingsClientUpsert").__setRef("LSStoredProcedures"),602:a("LSDeleteThenInsertCmCommunityList").__setRef("LSStoredProcedures"),363:a("LSQueryPaymentActivityView").__setRef("LSStoredProcedures"),530:a("LSDeleteAllAndInsertConnectivityStatus").__setRef("LSStoredProcedures"),531:a("LSTruncateTableAndSetShowError").__setRef("LSStoredProcedures"),386:b("LSUpsertTheme"),387:b("LSUpsertGradientColor"),388:a("LSFetchBanners").__setRef("LSStoredProcedures"),532:a("LSClearInThreadBannerTables").__setRef("LSStoredProcedures"),389:a("LSInsertNewBanner").__setRef("LSStoredProcedures"),390:a("LSUpsertOverflowMenu").__setRef("LSStoredProcedures"),391:a("LSUpsertCTA").__setRef("LSStoredProcedures"),392:a("LSExecuteCTA").__setRef("LSStoredProcedures"),393:a("LSDeleteBanner").__setRef("LSStoredProcedures"),394:a("LSDeleteBanners").__setRef("LSStoredProcedures"),536:b("LSUpsertStickerPack"),537:b("LSUpsertSticker"),538:a("LSIssueNewStickerSearchQuery").__setRef("LSStoredProcedures"),539:a("LSIssueNewStickerPackDetailFetch").__setRef("LSStoredProcedures"),540:a("LSDownloadStickerPack").__setRef("LSStoredProcedures"),541:a("LSQueryStickerStore").__setRef("LSStoredProcedures"),542:a("LSIssueRemoveStickerPack").__setRef("LSStoredProcedures"),543:a("LSIssueRemoveStickerPacks").__setRef("LSStoredProcedures"),544:a("LSIssueReorderStickerPacks").__setRef("LSStoredProcedures"),546:a("LSGenerateOrRefreshForwardContent").__setRef("LSStoredProcedures"),545:a("LSPersistGeneratedForwardContent").__setRef("LSStoredProcedures"),548:a("LSFetchLinkedGroupForThread").__setRef("LSStoredProcedures"),549:a("LSDeleteThenInsertLinkedGroup").__setRef("LSStoredProcedures"),552:a("LSGetScoreTypeRankingScore").__setRef("LSStoredProcedures"),553:a("LSUserHasStory").__setRef("LSStoredProcedures"),554:a("LSUserHasUnreadStory").__setRef("LSStoredProcedures"),555:a("LSGetInboxActiveNowScore").__setRef("LSStoredProcedures"),556:a("LSGetIsActive").__setRef("LSStoredProcedures"),557:b("LSDeleteThenInsertRankingScore"),558:b("LSDeleteThenInsertRankingRequest"),559:a("LSDeleteThenInsertValueModelRule").__setRef("LSStoredProcedures"),560:a("LSDeleteThenInsertValueModelFeature").__setRef("LSStoredProcedures"),561:a("LSDeleteThenInsertValueModelOutput").__setRef("LSStoredProcedures"),287:a("LSRoomsOptimisticCreateIssueTask").__setRef("LSStoredProcedures"),288:a("LSRoomCreateSuccess").__setRef("LSStoredProcedures"),289:a("LSRoomCreateFailure").__setRef("LSStoredProcedures"),290:a("LSRoomUpsert").__setRef("LSStoredProcedures"),291:a("LSRoomParticipantUpsert").__setRef("LSStoredProcedures"),292:a("LSRoomDelete").__setRef("LSStoredProcedures"),293:a("LSRoomParticipantDelete").__setRef("LSStoredProcedures"),294:a("LSRoomTruncate").__setRef("LSStoredProcedures"),295:a("LSRoomRevoke").__setRef("LSStoredProcedures"),296:a("LSRoomRevokeFailure").__setRef("LSStoredProcedures"),297:a("LSRoomUpdateInterestedIssueTask").__setRef("LSStoredProcedures"),298:a("LSRoomUpdateIssueTask").__setRef("LSStoredProcedures"),299:a("LSRoomUpdateSuccess").__setRef("LSStoredProcedures"),300:a("LSRoomInviteeUpdateIssueTask").__setRef("LSStoredProcedures"),301:a("LSRoomUpdateInterestedSuccess").__setRef("LSStoredProcedures"),302:a("LSRoomInviteeTypeUpdateSuccess").__setRef("LSStoredProcedures"),464:a("LSRoomUpdateInterestedAttacmentCTA").__setRef("LSStoredProcedures"),572:a("LSUpsertLiveLocationSharer").__setRef("LSStoredProcedures"),573:a("LSDeleteLiveLocationSharer").__setRef("LSStoredProcedures"),574:a("LSPingLiveLocationSharers").__setRef("LSStoredProcedures"),577:a("LSPredefineTraceForTask").__setRef("LSStoredProcedures"),578:a("LSFlushDataTrace").__setRef("LSStoredProcedures"),579:a("LSAppendDataTraceAddon").__setRef("LSStoredProcedures"),582:a("LSRequestAdContextFromThreadKey").__setRef("LSStoredProcedures")};e.exports=c}),null);
__d("LSStoredProcedures.bs",["LSStoredProcedures"],(function(a,b,c,d,e,f){"use strict";a=b("LSStoredProcedures");f.storedProcedures=a}),null);
__d("MWLSDatabaseLazySync.bs",["LS.bs","LSForceImmediateSync","LSTransaction.bs","Promise","ReQL.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(d){return b("LSTransaction.bs").run(c,function(c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"sync_groups").asc,{hd:a,tl:0})).then(function(d){if(d!==void 0&&b("bs_caml").i64_eq(d.f,[2328,1316134911]))return b("LSForceImmediateSync")(a,b("bs_curry")._1(b("LS.bs").make,c));else return b("Promise").resolve(void 0)})},"readWrite")},[JSON.stringify(a),c])}f.useSync=a}),null);
__d("MWV2GetThreadTitle.bs",["fbt","LSMessagingThreadTypeUtil.bs","MWLSActor.bs","bs_caml","bs_caml_option","gkx","intlList","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=b("gkx")("1341692")?g._(/*FBT_CALL*/"Workplace \uc0ac\uc6a9\uc790"/*FBT_CALL*/).toString():g._(/*FBT_CALL*/"Facebook \uc0ac\uc6a9\uc790"/*FBT_CALL*/).toString();function i(a,c,d,e){a=a!==void 0?b("bs_caml_option").valFromOption(a):b("intlList").CONJUNCTIONS.AND;if(d.length===0)return;if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c)){if(d.length===1){c=d[0];c=c[1];if(c!==void 0)return c.h;else return h}c=d.filter(function(a){return b("bs_caml").i64_neq(a[0].b,e)});if(c.length===0){b("recoverableViolation")("multiple viewers in 1:1 thread","messenger_comet");return}c=c[0];var f=b("gkx")("1846003"),g=c[0].e;if(g!==void 0&&f)return g;f=c[1];if(f!==void 0)return f.h;else return h}if(d.length===1){g=d[0];c=g[1];if(c!==void 0)return c.h;else return}f=d.filter(function(a){return b("bs_caml").i64_neq(a[0].b,e)}).sort(function(a,b){b=b[1];a=a[1];if(a!==void 0)if(b!==void 0)return b.o-a.o;else return 0;else return 0}).map(function(c){var e=b("gkx")("1846003"),a=c[0].e;if(a!==void 0&&e)return a;e=c[1];if(e===void 0)return h;a=e.p;if(a!==void 0&&d.length>2)return a;else return e.h});return b("intlList")(f,a,b("intlList").DELIMITERS.COMMA).toString()}function a(a,c,d){var e=b("MWLSActor.bs").useActor(void 0),f=c.d;if(f!==void 0)return f;f=i(b("bs_caml_option").some(a),c,d,e);if(f!==void 0)return f;else return""}f.computeThreadTitle=i;f.useThreadTitle=a}),null);
__d("LSContactViewerRelationship.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.unknown=a;f.notContact=c;f.contactOfViewer=d;f.facebookFriend=e;f.softContact=b}),null);
__d("LSMailboxMessagesRangeQueryDirection.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.before=a;f.after=c}),null);
__d("JsDictReadOnly.bs",["bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.keys(a)}function c(a){return a}d=b("bs_js_dict").get;e=b("bs_js_dict").entries;b=b("bs_js_dict").values;f.from=c;f.get=d;f.keys=a;f.entries=e;f.values=b}),null);